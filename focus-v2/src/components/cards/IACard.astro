---
/**
 * IACard - Contenu de la carte IA Automation
 */
---

<div class="ia-chat" slot="left">
  <div class="chat-msg user">
    <span class="avatar">ðŸ‘¤</span>
    <span class="msg" data-ia-user>"CrÃ©e-moi une boutique Shopify winner."</span>
  </div>
  <div class="chat-msg ai">
    <span class="avatar">ðŸ¤–</span>
    <div class="msg-wrap">
      <span class="msg" data-ia-ai>GÃ©nÃ©ration de la structure...</span>
      <div class="typing">
        <span></span><span></span><span></span>
      </div>
    </div>
  </div>
</div>

<div class="ia-terminal" slot="right">
  <div class="term-bar">
    <span class="dot red"></span>
    <span class="dot yellow"></span>
    <span class="dot green"></span>
  </div>
  <pre class="term-code" data-ia-code set:html={`{"status": "generating",
 "progress": 87%,
 "model": "claude-3.5"}`}></pre>
  <div class="progress">
    <div class="progress-fill" data-ia-progress></div>
  </div>
</div>

<style>
  .ia-chat {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .chat-msg {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
  }

  .avatar {
    font-size: 1rem;
  }

  .msg {
    font-size: 0.625rem;
    color: var(--text-secondary);
    background: var(--bg-input);
    padding: 0.375rem 0.625rem;
    border-radius: 0.5rem;
    line-height: 1.4;
  }

  .msg-wrap {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .typing {
    display: flex;
    gap: 0.1875rem;
  }

  .typing span {
    width: 0.25rem;
    height: 0.25rem;
    background: var(--gold);
    border-radius: 50%;
    animation: typingDot 1.4s infinite;
  }

  .typing span:nth-child(2) { animation-delay: 0.2s; }
  .typing span:nth-child(3) { animation-delay: 0.4s; }

  @keyframes typingDot {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
  }

  .ia-terminal {
    background: #1e1e1e;
    border-radius: 0.5rem;
    padding: 0.5rem;
    font-family: var(--font-mono);
    width: 100%;
  }

  .term-bar {
    display: flex;
    gap: 0.25rem;
    margin-bottom: 0.375rem;
  }

  .dot {
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 50%;
  }

  .dot.red { background: #ff5f57; }
  .dot.yellow { background: #ffbd2e; }
  .dot.green { background: #28c840; }

  .term-code {
    font-size: 0.5rem;
    color: #10b981;
    margin: 0;
    white-space: pre;
    line-height: 1.4;
  }

  .progress {
    height: 0.25rem;
    background: var(--bg-input);
    border-radius: 0.125rem;
    overflow: hidden;
    margin-top: 0.5rem;
  }

  .progress-fill {
    height: 100%;
    background: var(--gold);
    border-radius: 0.125rem;
    width: 0%;
    animation: progressFill 3s ease-in-out infinite;
  }

  @keyframes progressFill {
    0%, 100% { width: 0%; }
    50% { width: 87%; }
  }
</style>
