---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import HeroCards from '../components/HeroCards.astro';
import NetworkingSection from '../components/NetworkingSection.astro';
import ArsenalSection from '../components/ArsenalSection.astro';
import ExpertsSection from '../components/ExpertsSection.astro';
import PricingSection from '../components/PricingSection.astro';
import FAQSection from '../components/FAQSection.astro';
import FloatingBadge from '../components/FloatingBadge.astro';
import DiscordSection from '../components/DiscordSection.astro';

// Props pour la page ADS - Copywriting adapt√©
const adsTitle = "Focus Business - Tu paies ou tu fais le p'tit ?";
const adsDescription = "Arr√™te de faire le p'tit. Rejoins 1240 mecs qui font le plein chaque mois. E-commerce, SMMA, LLC - Les vraies m√©thodes pour faire du cash. 9.90‚Ç¨/mois.";
const adsCanonical = "https://mentalitefocus.com/ads";
---

<Layout title={adsTitle} description={adsDescription} canonical={adsCanonical}>
  <!-- Navbar -->
  <Navbar />

  <!-- HERO SECTION - Version ADS -->
  <section class="hero-section" id="hero">

    <!-- GLOW OR HERO -->
    <div class="absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[400px] bg-amber-400/5 blur-[200px] rounded-full pointer-events-none z-0"></div>

    <!-- PARTICLES -->
    <div class="particle-hero" style="left: 5%; top: 15%; animation-delay: 0s;"></div>
    <div class="particle-hero" style="left: 15%; top: 40%; animation-delay: 0.5s;"></div>
    <div class="particle-hero" style="left: 25%; top: 70%; animation-delay: 1s;"></div>
    <div class="particle-hero" style="left: 35%; top: 25%; animation-delay: 1.5s;"></div>
    <div class="particle-hero" style="left: 45%; top: 60%; animation-delay: 2s;"></div>
    <div class="particle-hero" style="left: 55%; top: 35%; animation-delay: 2.5s;"></div>
    <div class="particle-hero" style="left: 65%; top: 75%; animation-delay: 3s;"></div>
    <div class="particle-hero" style="left: 75%; top: 20%; animation-delay: 3.5s;"></div>
    <div class="particle-hero" style="left: 85%; top: 50%; animation-delay: 4s;"></div>
    <div class="particle-hero" style="left: 95%; top: 65%; animation-delay: 4.5s;"></div>
    <div class="particle-hero" style="left: 10%; top: 80%; animation-delay: 5s;"></div>
    <div class="particle-hero" style="left: 90%; top: 30%; animation-delay: 5.5s;"></div>

    <!-- TEXTE CENTER - Copy adapt√© pour ads -->
    <div class="relative z-20 text-center mb-8 md:mb-16 mt-24 md:mt-32 interactive-zone">

      <!-- BADGE -->
      <div class="badge mb-6" data-animate="fade-down" data-delay="0.2">
        <span class="badge-dot"></span>
        <span>TU PAIES OU TU FAIS LE P'TIT ?</span>
      </div>

      <!-- TITRE - Version ADS plus directe -->
      <h1 class="text-5xl md:text-[8rem] lg:text-[10rem] font-black font-display tracking-tighter leading-[0.9] select-none mb-4" data-animate="zoom-in" data-delay="0.4" data-duration="1">
        <span class="inline-block text-primary" style="text-shadow: 0 0 60px rgba(255,255,255,0.4), 0 4px 0 rgba(212,175,55,0.3);">ARR√äTE DE SCROLL.</span><br>
        <span class="text-gradient-gold" style="filter: drop-shadow(0 0 30px rgba(212,175,55,0.5));">AGIS.</span>
      </h1>

      <!-- SOUS-TITRE - Copy masculin -->
      <p class="hero-subtitle text-muted text-sm md:text-lg mb-6 max-w-lg mx-auto" data-animate="fade-up" data-delay="0.6">
        <span class="subtitle-line"><strong class="text-primary">1240 mec qui font du cash.</strong></span>
        <span class="subtitle-line">E-commerce, SMMA, Fiscalit√©.</span>
        <span class="subtitle-line"><strong class="text-gold">Les vraies m√©thodes.</strong></span>
      </p>

      <!-- BANDEAU PRIX - M√™me style que page principale -->
      <div class="price-tag-container">
        <a href="#pricing" class="price-tag" id="price-tag">
          <span class="tag-text">POUR 10‚Ç¨ / MOIS</span>
        </a>
      </div>

      <!-- STATS BAR -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-x-8 md:gap-x-12 gap-y-2 mt-3 mx-auto w-fit" data-stagger="0.1">
        <div class="text-center" data-stagger-item>
          <div class="text-lg md:text-2xl font-black text-primary leading-none">5</div>
          <div class="text-[7px] md:text-xs text-muted uppercase">Lives/Sem</div>
        </div>
        <div class="text-center" data-stagger-item>
          <div class="text-lg md:text-2xl font-black text-primary leading-none">1240</div>
          <div class="text-[7px] md:text-xs text-muted uppercase">Membres</div>
        </div>
        <div class="text-center" data-stagger-item>
          <div class="text-lg md:text-2xl font-black text-primary leading-none">+10M</div>
          <div class="text-[7px] md:text-xs text-muted uppercase">CA G√©n√©r√©</div>
        </div>
        <div class="text-center" data-stagger-item>
          <div class="text-lg md:text-2xl font-black text-primary leading-none">24/7</div>
          <div class="text-[7px] md:text-xs text-muted uppercase">Support</div>
        </div>
      </div>
    </div>

    <!-- HERO CARDS -->
    <HeroCards />
  </section>

  <!-- SECTION ARSENAL - Nos domaines d'expertise -->
  <ArsenalSection />

  <!-- SECTION DISCORD - Une communaut√© vivante & active -->
  <DiscordSection />

  <!-- SECTION EXPERTS - Nos domaines d'expertise -->
  <ExpertsSection />

  <!-- SECTION NETWORKING - R√©seau & Connexions -->
  <NetworkingSection />

  <!-- SECTION PRICING - Abonnement -->
  <PricingSection />

  <!-- SECTION FAQ - Questions fr√©quentes -->
  <FAQSection />

  <!-- NEWSLETTER FOOTER -->
  <footer class="py-24 relative overflow-hidden bg-page-light dark:bg-page">
    <!-- Glow -->
    <div class="absolute inset-0 opacity-20">
      <div class="absolute top-1/2 left-1/4 w-[600px] h-[600px] bg-amber-400/10 blur-[200px] rounded-full"></div>
      <div class="absolute top-1/2 right-1/4 w-[400px] h-[400px] bg-amber-500/10 blur-[200px] rounded-full"></div>
    </div>

    <!-- Container -->
    <div class="container-custom relative z-10">

      <!-- Newsletter Section - Copy adapt√© -->
      <div class="newsletter-container mx-auto mb-16 max-w-3xl">
        <div class="text-center mb-8">
          <h2 class="text-3xl md:text-5xl font-black text-primary mb-4 font-display">
            Reste au courant
          </h2>
          <p class="text-base md:text-lg text-muted max-w-xl mx-auto">
            Re√ßois les nouveaut√©s et des ressources de temps en temps. Sans engagement.
          </p>
        </div>

        <form class="newsletter-form" id="newsletter-form">
          <div class="form-wrapper">
            <div class="input-container">
              <input
                type="email"
                placeholder="ton@email.com"
                class="newsletter-input"
                id="newsletter-email"
                required
                autocomplete="email"
              />
              <div class="input-icon">
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                </svg>
              </div>
            </div>
            <button type="submit" class="newsletter-btn" id="newsletter-submit">
              <span class="btn-text">Acc√©der gratuitement</span>
              <span class="btn-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                  <line x1="5" y1="12" x2="19" y2="12"/>
                  <polyline points="12 5 19 12 12 19"/>
                </svg>
              </span>
            </button>
          </div>
        </form>

        <p class="text-xs text-muted text-center mt-4">
          On d√©teste le spam autant que toi. D√©sinscris-toi quand tu veux.
        </p>
      </div>

      <!-- Stats Footer -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12 max-w-4xl mx-auto text-center">
        <div>
          <div class="text-3xl md:text-4xl font-black text-gradient-gold mb-1">1240</div>
          <div class="text-sm text-muted">Membres actifs</div>
        </div>
        <div>
          <div class="text-3xl md:text-4xl font-black text-gradient-gold mb-1">+10M‚Ç¨</div>
          <div class="text-sm text-muted">CA g√©n√©r√©</div>
        </div>
        <div>
          <div class="text-3xl md:text-4xl font-black text-gradient-gold mb-1">24/7</div>
          <div class="text-sm text-muted">Support Discord</div>
        </div>
        <div>
          <div class="text-3xl md:text-4xl font-black text-gradient-gold mb-1">5+</div>
          <div class="text-sm text-muted">Lives/semaine</div>
        </div>
      </div>

      <!-- CTA Final -->
      <div class="text-center">
        <a
          href="https://espace.mentalitefocus.com/checkout"
          class="inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-gold to-amber-500 text-black font-bold text-lg rounded-xl hover:scale-105 transition-transform shadow-lg shadow-gold/20"
          id="footer-cta"
        >
          <span>Rejoindre Focus</span>
          <span class="text-2xl">‚Üí</span>
        </a>
        <p class="text-sm text-muted mt-4">9.90‚Ç¨/mois ‚Ä¢ Annule quand tu veux</p>
      </div>

      <!-- Footer Links -->
      <div class="flex flex-wrap justify-center gap-6 mt-12 text-sm text-muted">
        <a href="/legal.html" class="hover:text-primary transition-colors">Mentions l√©gales</a>
        <span>‚Ä¢</span>
        <a href="/privacy.html" class="hover:text-primary transition-colors">Confidentialit√©</a>
        <span>‚Ä¢</span>
        <a href="/terms.html" class="hover:text-primary transition-colors">CGV</a>
      </div>

      <!-- Copyright -->
      <p class="text-center text-xs text-muted mt-8">
        ¬© 2026 Focus Business. Tous droits r√©serv√©s.
      </p>
    </div>
  </footer>

  <!-- Floating Badge -->
  <FloatingBadge />
</Layout>

<script>
  // Price tag animation
  const priceTag = document.getElementById('price-tag');

  if (priceTag) {
    // Trigger tag land animation after page load
    setTimeout(() => {
      priceTag.classList.add('landed');
    }, 1200);
  }

  // Newsletter form tracking
  const newsletterForm = document.getElementById('newsletter-form');
  const newsletterEmail = document.getElementById('newsletter-email') as HTMLInputElement;

  if (newsletterForm && newsletterEmail) {
    newsletterForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = newsletterEmail.value;

      console.log('üîç Newsletter signup initiated:', email);

      try {
        localStorage.setItem('focus_user_email', email);
      } catch (storageError) {
        console.warn('LocalStorage not available for email capture:', storageError);
      }

      // Google Analytics
      if (typeof gtag !== 'undefined') {
        gtag('event', 'generate_lead', {
          'currency': 'EUR',
          'value': 0,
          'lead_source': 'newsletter_ads_page'
        });
        console.log('‚úÖ Google Analytics - Lead tracked (Newsletter ADS)');
      }

      // Track newsletter signup with all pixels
      if (typeof fbq !== 'undefined') {
        fbq('track', 'Lead', {
          content_name: 'Newsletter Signup ADS',
          value: 0,
          currency: 'EUR'
        });
        console.log('‚úÖ Meta - Lead tracked (Newsletter ADS)');
      }

      if (typeof snaptr !== 'undefined') {
        snaptr('track', 'SIGN_UP', {
          sign_up_method: 'newsletter',
          user_email: email
        });
        console.log('‚úÖ Snapchat - SIGN_UP tracked (Newsletter ADS)');
      }

      // Klaviyo tracking
      if (typeof window._learnq !== 'undefined') {
        window._learnq.push(['identify', {
          '$email': email
        }]);
        window._learnq.push(['subscribe', {
          'email': email,
          'list': 'UxpEGn'
        }]);
        window._learnq.push(['track', 'Newsletter Signup', {
          'Source': 'Footer Newsletter ADS',
          'Email': email
        }]);
        console.log('‚úÖ Klaviyo (_learnq) - Newsletter Signup + List Subscribe tracked (ADS)');
      } else if (typeof window.klaviyo !== 'undefined') {
        window.klaviyo.push(['identify', { '$email': email }]);
        window.klaviyo.push(['subscribe', {
          'email': email,
          'list': 'UxpEGn'
        }]);
        window.klaviyo.push(['track', 'Newsletter Signup', {
          'Source': 'Footer Newsletter ADS',
          'Email': email
        }]);
        console.log('‚úÖ Klaviyo (fallback) - Newsletter Signup + List Subscribe tracked (ADS)');
      }

      // Success message
      newsletterEmail.value = '';
      alert('‚úÖ Merci ! Check tes emails pour confirmer ton inscription.');
    });
  }

  // Footer CTA tracking
  const footerCTA = document.getElementById('footer-cta');
  if (footerCTA) {
    footerCTA.addEventListener('click', () => {
      console.log('üéØ Footer CTA clicked (ADS page)');

      // Google Analytics
      if (typeof gtag !== 'undefined') {
        gtag('event', 'begin_checkout', {
          'currency': 'EUR',
          'value': 9.90,
          'items': [{
            'item_name': 'Focus Business Membership',
            'item_category': 'Subscription',
            'price': 9.90,
            'quantity': 1
          }]
        });
      }

      if (typeof fbq !== 'undefined') {
        fbq('track', 'InitiateCheckout', {
          value: 9.90,
          currency: 'EUR',
          content_name: 'Focus Business Premium - Footer CTA ADS'
        });
      }

      if (typeof snaptr !== 'undefined') {
        snaptr('track', 'START_CHECKOUT', {
          price: 9.90,
          currency: 'EUR'
        });
      }

      if (typeof window.klaviyo !== 'undefined') {
        window.klaviyo.push(['track', 'Started Checkout', {
          '$value': 9.90,
          'Source': 'Footer CTA ADS'
        }]);
      }
    });
  }

  // ========================================
  // SCROLL DEPTH TRACKING
  // ========================================

  let scrollMilestones = { '25': false, '50': false, '75': false, '100': false };
  window.addEventListener('scroll', () => {
    const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);

    Object.keys(scrollMilestones).forEach(milestone => {
      if (scrollPercent >= parseInt(milestone) && !scrollMilestones[milestone]) {
        scrollMilestones[milestone] = true;

        // Google Analytics
        if (typeof gtag !== 'undefined') {
          gtag('event', 'scroll', {
            'percent_scrolled': parseInt(milestone),
            'page_type': 'ads'
          });
        }

        console.log('üìä Scroll Depth (ADS):', milestone + '%');
      }
    });
  }, { passive: true });

  // ========================================
  // ENGAGEMENT TIME TRACKING
  // ========================================

  let engagementStartTime = Date.now();
  let isEngaged = true;

  document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
      isEngaged = false;
      const engagementTime = Math.floor((Date.now() - engagementStartTime) / 1000);

      if (typeof gtag !== 'undefined' && engagementTime > 10) {
        gtag('event', 'user_engagement', {
          'engagement_time_msec': engagementTime * 1000,
          'page_type': 'ads'
        });
      }
    } else {
      engagementStartTime = Date.now();
      isEngaged = true;
    }
  });

  setInterval(() => {
    if (isEngaged && !document.hidden) {
      const engagementTime = Math.floor((Date.now() - engagementStartTime) / 1000);

      if (engagementTime >= 30 && typeof gtag !== 'undefined') {
        gtag('event', 'user_engagement', {
          'engagement_time_msec': engagementTime * 1000,
          'page_type': 'ads'
        });
        engagementStartTime = Date.now();
      }
    }
  }, 30000);

  // ========================================
  // FORM FOCUS TRACKING
  // ========================================

  if (newsletterEmail) {
    newsletterEmail.addEventListener('focus', () => {
      if (typeof gtag !== 'undefined') {
        gtag('event', 'form_start', {
          'form_name': 'newsletter',
          'form_location': 'ads_page'
        });
      }
      console.log('üìä Newsletter Form Started (ADS)');
    });
  }
</script>

<style>
  /* Hero section - full viewport with relative positioning for cards */
  .hero-section {
    position: relative;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 80px 16px 0;
    overflow: visible;
    margin-bottom: -120px;
  }

  @media (max-width: 768px) {
    .hero-section {
      padding-top: 60px;
      min-height: 100svh;
      margin-bottom: -80px;
    }
  }

  /* Hero specific styles */
  .interactive-zone {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 1rem;
    position: relative;
    z-index: 15;
  }

  /* Hero subtitle - 3 lignes sur mobile */
  .hero-subtitle {
    text-align: center;
  }

  .subtitle-line {
    display: block;
  }

  @media (min-width: 768px) {
    .subtitle-line {
      display: inline;
    }

    .subtitle-line:not(:last-child)::after {
      content: ' ';
    }
  }

  /* ===== PRICE TAG - Simple √©tiquette qui se pose ===== */
  .price-tag-container {
    margin: 1.5rem 0 2rem;
    display: flex;
    justify-content: center;
  }

  .price-tag {
    display: inline-block;
    padding: 0.75rem 2rem;
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%);
    color: black;
    font-family: var(--font-display);
    font-weight: 900;
    font-size: 1.25rem;
    text-decoration: none;
    border-radius: 4px;
    box-shadow:
      0 15px 40px rgba(245, 158, 11, 0.4),
      0 0 0 3px rgba(0, 0, 0, 0.1) inset;

    /* Initial - cach√© en haut */
    transform: translateY(-80vh) rotate(-8deg);
    opacity: 0;

    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .price-tag.landed {
    animation: tagLand 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  @keyframes tagLand {
    0% {
      transform: translateY(-80vh) rotate(-8deg);
      opacity: 0;
    }
    60% {
      transform: translateY(5px) rotate(-4deg);
      opacity: 1;
    }
    80% {
      transform: translateY(-3px) rotate(-2deg);
    }
    100% {
      transform: translateY(0) rotate(-3deg);
      opacity: 1;
    }
  }

  .tag-text {
    text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3);
  }

  .price-tag:hover {
    transform: translateY(-3px) rotate(-3deg) scale(1.05) !important;
    box-shadow:
      0 20px 50px rgba(245, 158, 11, 0.5),
      0 0 0 3px rgba(0, 0, 0, 0.1) inset;
  }

  @media (min-width: 768px) {
    .price-tag {
      padding: 1rem 3rem;
      font-size: 1.75rem;
    }
  }

  /* ===== NEWSLETTER SECTION - Premium sobre incrust√© ===== */
  .newsletter-section {
    max-width: 900px;
    margin: 3rem auto 0;
    padding: 0 1rem;
    position: relative;
    z-index: 2;
  }

  .newsletter-container {
    position: relative;
    background: var(--bg-card);
    border: 1px solid var(--border-medium);
    border-radius: 16px;
    padding: 2.5rem;
    overflow: hidden;
    box-shadow: var(--shadow-medium);
    transition: all 0.3s ease;
  }

  .newsletter-container:hover {
    border-color: var(--gold);
    box-shadow: var(--shadow-gold);
  }

  .newsletter-form {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
  }

  .form-wrapper {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: 100%;
    max-width: 450px;
  }

  @media (min-width: 540px) {
    .form-wrapper {
      flex-direction: row;
    }
  }

  .input-container {
    position: relative;
    flex: 1;
  }

  .newsletter-input {
    width: 100%;
    padding: 0.875rem 1rem 0.875rem 2.75rem;
    background: var(--bg-card);
    border: 1px solid var(--border-light);
    border-radius: 0.75rem;
    color: var(--text-primary);
    font-size: 0.9375rem;
    font-family: inherit;
    transition: all 0.3s ease;
    outline: none;
  }

  .newsletter-input::placeholder {
    color: var(--text-muted);
  }

  .newsletter-input:focus {
    border-color: var(--gold);
    background: var(--bg-card-elevated);
  }

  .input-icon {
    position: absolute;
    left: 0.875rem;
    top: 50%;
    transform: translateY(-50%);
    width: 1.25rem;
    height: 1.25rem;
    color: var(--text-muted);
    transition: color 0.3s ease;
    pointer-events: none;
  }

  .input-container:focus-within .input-icon {
    color: var(--gold);
  }

  /* Newsletter Button - Style sobre */
  .newsletter-btn {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.625rem;
    padding: 0.9375rem 1.75rem;
    background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
    border: none;
    border-radius: 8px;
    color: #000000;
    font-size: 0.9375rem;
    font-weight: 700;
    font-family: inherit;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
    box-shadow: var(--shadow-medium);
  }

  .newsletter-btn:hover {
    background: linear-gradient(135deg, var(--gold-light) 0%, var(--gold) 100%);
    box-shadow: var(--shadow-gold);
  }

  .btn-icon {
    display: flex;
    width: 1.125rem;
    height: 1.125rem;
    transition: transform 0.3s ease;
  }

  .newsletter-btn:hover .btn-icon {
    transform: translateX(4px);
  }

  /* Les styles s'adaptent automatiquement gr√¢ce aux variables CSS */
</style>
