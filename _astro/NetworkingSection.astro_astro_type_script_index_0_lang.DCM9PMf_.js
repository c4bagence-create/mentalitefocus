document.addEventListener("DOMContentLoaded",()=>{const f=document.getElementById("networking");let i=!1;const A=new IntersectionObserver(e=>{i=e[0].isIntersecting,i?h():C()},{threshold:.1});f&&A.observe(f),document.addEventListener("visibilitychange",()=>{document.hidden?C():i&&h()});const m=[],r=(e,t)=>{const a={callback:e,delay:t,id:null};m.push(a),i&&(a.id=setInterval(e,t))},h=()=>{m.forEach(e=>{e.id||(e.id=setInterval(e.callback,e.delay))})},C=()=>{m.forEach(e=>{e.id&&(clearInterval(e.id),e.id=null)})},I=document.querySelectorAll("[data-user]"),n=document.getElementById("feed-messages");document.getElementById("mlc-messages");const b=document.querySelector("[data-call-duration]");let c=0;const p=["thomas","karim","julie","mehdi"],E=[{name:"Thomas_Ads",avatar:"T",color:"#5865F2",msg:"J'ai un CPC Ã  14 centimes, c'est bien ?"},{name:"Julie_Ecom",avatar:"J",color:"#EC4899",msg:"T'en penses quoi de ma crÃ©a ?"},{name:"Karim_Drop",avatar:"K",color:"#F59E0B",msg:"Mon CTR est Ã  3.2%, je scale ou pas ?"},{name:"Emma_SMMA",avatar:"E",color:"#10B981",msg:"Combien vous facturez pour du Meta Ads ?"},{name:"Lucas_SEO",avatar:"L",color:"#8B5CF6",msg:"J'ai rankÃ©e en 2 semaines sur un mot clÃ©"},{name:"Alex_Crypto",avatar:"A",color:"#06B6D4",msg:"Qui a testÃ© les lookalike sur TikTok ?"},{name:"Maxime_Auto",avatar:"M",color:"#EF4444",msg:"J'ai trouvÃ© une 911 Ã  45K, c'est une bonne affaire ?"},{name:"Sophie_Inf",avatar:"S",color:"#F472B6",msg:"Comment vous nÃ©gociez vos deals influenceurs ?"},{name:"Pierre_SMMA",avatar:"P",color:"#22C55E",msg:"Premier client signÃ© ce matin ! 2K/mois"},{name:"Marie_Ecom",avatar:"M",color:"#A855F7",msg:"Mon produit fait 12K ce mois, merci Focus !"}],l=()=>{if(!n)return;const e=E[Math.floor(Math.random()*E.length)],t=document.createElement("div");for(t.className="feed-msg",t.innerHTML=`
        <div class="feed-avatar" style="background: ${e.color}">${e.avatar}</div>
        <div class="feed-content">
          <span class="feed-name">${e.name}</span>
          <span class="feed-text">${e.msg}</span>
        </div>
      `,n.appendChild(t),n.scrollTop=n.scrollHeight;n.children.length>5;)n.removeChild(n.firstChild)},d=document.querySelectorAll(".voice-bubble");let u=0;const v=[{name:"Julie",avatar:"J",color:"#EC4899",text:"Mon CTR est Ã  3.2% ðŸ”¥"},{name:"Maxime",avatar:"M",color:"#EF4444",text:"Vendu en 3h chrono !"},{name:"Lucas",avatar:"L",color:"#8B5CF6",text:"Top 1 Google baby"},{name:"Alex",avatar:"A",color:"#06B6D4",text:"TikTok Ads explose"},{name:"Thomas",avatar:"T",color:"#5865F2",text:"CPC Ã  0,14â‚¬ c'est bon ?"},{name:"Sophie",avatar:"S",color:"#F472B6",text:"+8K ce mois ðŸ’°"},{name:"Pierre",avatar:"P",color:"#22C55E",text:"Client 2K/mois signÃ©"},{name:"Emma",avatar:"E",color:"#10B981",text:"Deal fermÃ© ce matin"},{name:"Karim",avatar:"K",color:"#F59E0B",text:"Signature Ã  12K !"},{name:"Marie",avatar:"M",color:"#A855F7",text:"12K ce mois LFG"}],x=()=>{d.length&&(d.forEach((e,t)=>{setTimeout(()=>e.classList.remove("visible"),t*80)}),setTimeout(()=>{for(let e=0;e<6;e++){const t=(u+e)%v.length,a=v[t],s=d[e];if(s){const o=s.querySelector(".vb-avatar"),k=s.querySelector(".vb-name"),y=s.querySelector(".vb-text");o&&(o.style.background=a.color,o.textContent=a.avatar),k&&(k.textContent=a.name),y&&(y.textContent=a.text),setTimeout(()=>s.classList.add("visible"),e*150)}}u=(u+3)%v.length},400))};setTimeout(x,800),r(x,5e3),setTimeout(l,500),setTimeout(l,1500),setTimeout(l,2500),r(l,3e3);let g=754;r(()=>{g++;const e=Math.floor(g/60),t=g%60;b&&(b.textContent=`${e}:${t.toString().padStart(2,"0")}`)},1e3),r(()=>{I.forEach(a=>{const s=a.getAttribute("data-user"),o=a.querySelector("[data-status]");s===p[c]?(a.classList.add("talking"),o&&(o.textContent="Parle...")):(a.classList.remove("talking"),o&&(o.textContent="Ã‰coute"))});const e=document.querySelector("[data-speaking-name]"),t=["Thomas_Ads","Karim_Immo","Julie_Ecom","Mehdi_Dev"];e&&(e.textContent=t[c]),c=(c+1)%p.length},3e3);const M=document.querySelector("[data-phone-time]"),S=()=>{const e=new Date,t=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0");M&&(M.textContent=`${t}:${a}`)};S(),r(S,6e4);const T=document.querySelector("[data-call-count]");r(()=>{if(T){const t=Math.floor(Math.random()*5)-2;T.textContent=(30+t).toString()}},8e3)});
